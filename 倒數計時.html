<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Timer</title>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
    


    <style>
        @font-face {
            font-family: Digifont;
            src: url('digital-7 (italic).ttf');
        }
    </style>
    <script>
        // $(document).ready(function () {
        //     init();
        // });
        // function init() {
        //     $('#btnstart').click(start);
        //     $('#btnstart').click(runclock);
        //     $('#btnpause').click(stop);
        // }
        // function start() {
        //     pause = false;

        // }
        // function runclock() {
        //     var inputnum = $('#input1').val();
        //     if (inputnum == 0) {
        //         return alert("計時結束");
        //     }
        //     else if (pause == false) {
        //         inputnum = inputnum - 1;
        //         $('#input').val(inputnum);
        //         setTimeout(runclock, 1000);
        //     }
        // }
        // function stop() {
        //     pause = true;
        // }

        $(document).ready(function () {
            $('#btnbtn1').click(start);
            $('#btnbtn2').click(stop);
            //$("#btnbtn").click(stop);

        });

        var pause = false;
        function start(){
            if(pause == false){
                
                initLabel();
                var current= $('input:text').val();
                Timer(current);
              }
            
        }
        function stop() {
            pause=true;
        }
           
        function initLabel(){
            var number = $('input:text').val();
            $('#label1').text(number);
        }   
        
        function Timer(current){
        
            $('#label1').text(current);
            if(current <= 0){
                alert("STOP!");
                return;
             }
            if(current>0){
                current--;
                $('#label1').text(current);
                setTimeout(Timer(current), 10000);
            }
        }
        
        
           
           /*
        function startclock() {
            
                var pause = false;
                
                if(!pause){ //我還沒按過
                    
                    var number = $('input:text').val();
                    
                    if (number <= 0) {
                    
                        alert("計時結束");
                        return;
                    
                    }
                    else if(number > 0){
                        $('#label1').text(number);
                        number --;
                        setTimeout(startclock, 1000);
                        
                    }
                    
                    
                    
                }
                else{ //正在執行中
                    
                
                }
            }
            /*
            
            if (number == 0) {
                
                alert("計時結束");
                return;
            } else if (number > 0) {

                $('#label1').val()=number;
                number--;
                setTimeout(startclock(), 1000);
                
            } else {
            
                pause = true;
                stop();
                return;
            };
            
            
           function stop() {
                    $('#label1').val()=number;
           };
            */
        
        </script>
        
    <style data-styled="" data-styled-version="4.2.0"></style>
    <style data-styled="" data-styled-version="4.2.0"></style>
    <style data-styled="" data-styled-version="4.2.0"></style>


</head>

<body>
    <div class="col-md-6 offset-md-3 mt-5  ">

        <label for="time">請輸入想要倒數的時間</label>

        <div class="input-group mb-3">

            <input type="text" class="form-control" id="input1" aria-label="Amount ">
            <div class="input-group-append">
                <span class="input-group-text">秒</span>
            </div>
        </div>

        <div class="buttongraoup ">
            <input type="button" class="btn btn-info" id="btnbtn1" value="開始">
            <input type="button" class="btn btn-info" id="btnbtn2" value="暫停">
        </div>
        <label id="label1" style="font-family: Digifont; font-size: 50px">Timer</label>






    </div>

</body>

</html>