<!DOCTYPEhtml>
    <html lang="en">

    <head>
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

        <title>OOXX-類別版, 判斷輸贏-</title>
        <style>
            td {
                text-align: center;
                cursor: pointer;
            }
        </style>

        <script>
[
            // var array = [[],[],[]]

            class OOXX {
                constructor() {
                    /* 初始化 */
                }
                setPoint(x, y, point) {
                    /* todo */
                    //設定落子
                }
                HasWinner() {
                    if(s1.text == s2.text && s1.text == s3.text){
                        return s1.text
                    }
                    

                        return;
                }
            }

            var flag = "";
            var game = new OOXX();
            function HasWinner() {
                if (game.HasWinner() != '') {
                    label.innerHTML = `<span style='color:red'>winner : ${game.HasWinner()}</span>`;
                }


                function SetPoint(obj) {
                    //alert(obj);
                    if (obj.innerText != "_") return;
                    if (flag == "X") {
                        flag = "O";
                        obj.innerText = 'O';
                    }
                    else {
                        flag = "X";
                        obj.innerText = 'X';
                    }
                    //show
                    var label = document.getElementById('lebel1');
                    //顯示位置
                    label.innerHTML = "結果:" + "rowIndex: " + obj.parentElement.rowIndex + " CellIndex: " + obj.cellIndex + " --> " + obj.innerText;


                    //設定落子
                    game.setPoint(obj.parentElement.rowIndex, obj.cellIndex, obj.innerText);
                    //有人贏嗎?
                    if (game.HasWinner() != '') label.innerHTML = `<span style='color:red'>winner : ${game.HasWinner()}</span>`;
                }


        </script>
    </head>

    <body>
        <h3>OOXX遊戲</h3>
        <div style="font-size: 60px">
            <label id=lebel1 h3>結果:</label>
            <table border="1" style="width: 600px; height:400px">
                <tr>
                    <td id="s1" onclick="SetPoint(this);">_</td>
                    <td id="s2" onclick="SetPoint(this);">_</td>
                    <td id="s3" onclick="SetPoint(this);">_</td>
                </tr>
                <tr>
                    <td id="s4" onclick="SetPoint(this);">_</td>
                    <td id="s5" onclick="SetPoint(this);">_</td>
                    <td id="s6" onclick="SetPoint(this);">_</td>
                </tr>
                <tr>
                    <td id="s7" onclick="SetPoint(this);">_</td>
                    <td id="s8" onclick="SetPoint(this);">_</td>
                    <td id="s9" onclick="SetPoint(this);">_</td>
                </tr>
            </table>
        </div>


    </body>

    </html>